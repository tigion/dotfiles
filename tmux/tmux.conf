# vim: ft=tmux

# set  / set-option
# setw / set-window-option

## terminal support

set -g default-terminal "screen-256color"  # kitty: okay
# set -g default-terminal "xterm-256color"  # kitty: error in Neovim health check
# set -g default-terminal "tmux-256color"  # kitty: error in Neovim health check, color issues!
set -ga terminal-features ',xterm-kitty:RGB'  # kitty: okay, xterm (terminal.app): color isses
# set -sa terminal-features ',xterm-kitty:RGB'  # okay
# set -ga terminal-features ",*256col*:RGB"
# set -sa terminal-features ",xterm-256color:RGB"


## prefix key
#set -g prefix C-Space
set -g prefix C-a
unbind C-b
#bind-key C-Space send-prefix
bind-key C-a send-prefix

## basic settings

# windows, panes start with index 1, not 0
set -g base-index 1
set -g pane-base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
# history size
set -g history-limit 64096
#
set -sg escape-time 10
# allow the title bar to adapt to whatever host you connect to
set -g set-titles on
set -g set-titles-string "#T"
# enabling mouse support, but disables mouse support in the outer terminal (shift + click)
set -g mouse on


## theme / colors

# fg=$COLOR_RED_1
# #[fg=#{COLOR_RED_1}]
COLOR_BLUE_1=#002b36
COLOR_BLUE_2=#073642
COLOR_GOLD_1=#b58900
COLOR_GRAY_1=#586e75
COLOR_GRAY_2=#657b83
COLOR_GRAY_3=#839496
COLOR_GRAY_4=#93a1a1
COLOR_WHITE_1=#eee8d5
COLOR_BLACK_1=#15161e
COLOR_RED_1=#990000

# window
#set -g window-style none
#set -g window-active-style none

# pane
set -g pane-border-style fg=#002b36
set -g pane-active-border-style fg=#b58900

# pane number display
set -g display-panes-active-colour colour33
set -g display-panes-colour colour166

# clock
setw -g clock-mode-colour colour64

# bell
#set-window-option -g window-status-bell-style none

## statusbar

# default
set -g status on
#set -g status-utf8 on
set -g status-interval 5
set -g status-justify left
# set -g status-style fg=#586e75,bg=#002b36
set -g status-style fg=#666666,bg=#222222
# left
set -g status-left-length 100
set -g status-left-style none
# set -g status-left "#[fg=#073642,bg=#eee8d5,bold] #S #[fg=#eee8d5,bg=#93a1a1,nobold,nounderscore,noitalics]#[fg=#15161E,bg=#93a1a1,bold] #(whoami) #[fg=#93a1a1,bg=#002b36]"
set -g status-left "#[fg=#222222,bg=#eeeeee,bold] #S #[fg=#eee8d5,bg=#93a1a1,nobold,nounderscore,noitalics]#[fg=#15161E,bg=#93a1a1] #(whoami) #[fg=#93a1a1,bg=#002b36]"
# right
set -g status-right-length 100
set -g status-right-style none
# set -g status-right "#[fg=#586e75,bg=#002b36,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#586e75]#[fg=#657b83,bg=#586e75,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#657b83]#[fg=#93a1a1,bg=#657b83,nobold,nounderscore,noitalics]#[fg=#15161E,bg=#93a1a1,nobold,nounderscore,noitalics] #( ~/.config/tmux/cpu_temp.sh ) ┊ %H:%M #[fg=#eee8d5,bg=#93a1a1,nobold,nounderscore,noitalics]#[fg=#073642,bg=#eee8d5,bold] #h "
set -g status-right "#[fg=#586e75,bg=#002b36,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#586e75]#[fg=#657b83,bg=#586e75,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#657b83]#[fg=#93a1a1,bg=#657b83,nobold,nounderscore,noitalics]#[fg=#15161E,bg=#93a1a1,nobold,nounderscore,noitalics] #( ~/.config/tmux/cpu_temp.sh ) ┊ %H:%M #[fg=#eee8d5,bg=#93a1a1,nobold,nounderscore,noitalics]#[fg=#073642,bg=#eee8d5,bold] #h "

# window
setw -g window-status-activity-style fg=#839496,bg=#002b36,underscore
setw -g window-status-separator ""
setw -g window-status-style none
setw -g window-status-current-style none
setw -g window-status-last-style none
# setw -g window-status-format '#[fg=#002b36,bg=#002b36]#[default] #I  #{b:pane_current_path} #[fg=#002b36,bg=#002b36,nobold,nounderscore,noitalics]'
# setw -g window-status-format '#[fg=#222222,bg=#222222]#[fg=default] #I  #{b:pane_current_path} #[fg=#222222,bg=#222222,nobold,nounderscore,noitalics]'
# setw -g window-status-format '#[fg=#222222,bg=#333333]#[fg=default,bg=#333333] #I  #{b:pane_current_path} #[fg=#333333,bg=#222222,nobold,nounderscore,noitalics]'
setw -g window-status-format '#[fg=#222222,bg=#333333]#[fg=default,bg=#333333] #I #[fg=#222222]#[fg=default,bg=#333333] #{b:pane_current_path} #[fg=#333333,bg=#222222,nobold,nounderscore,noitalics]'
# setw -g window-status-format '#[fg=#222222,bg=#333333]#[fg=default,bg=#333333] #I #[fg=#333333,bg=#222222]#[default] #{b:pane_current_path} #[fg=#222222,bg=#222222,nobold,nounderscore,noitalics]'
# setw -g window-status-current-format '#[fg=#002b36,bg=#eee8d5]#[fg=#b58900,bg=#eee8d5] #I #[fg=#eee8d5]#[bg=#b58900] #{b:pane_current_path} #{?window_zoomed_flag,#[fg=#990000]+,}#[fg=#b58900,bg=#002b36,nobold]'
setw -g window-status-current-format '#[fg=#222222,bg=#eee8d5]#[fg=#af601a,bg=#eee8d5] #I #[fg=#eee8d5]#[bg=#af601a] #{b:pane_current_path} #{?window_zoomed_flag,#[fg=#990000]+,}#[fg=#af601a,bg=#222222,nobold]'

# mode
# set -g mode-style fg=#eee8d5,bg=#073642
set -g mode-style fg=#666666,bg=#222222

# message
# set -g message-style fg=#eee8d5,bg=#073642
set -g message-style fg=#666666,bg=#222222
# set -g message-command-style fg=#eee8d5,bg=#073642
set -g message-command-style fg=#666666,bg=#222222


## Key bindings

# Reload settings
bind r source-file ~/.config/tmux/tmux.conf \; display "Tmux config reloaded!"
# Display lazygit
bind -r g display-popup -d '#{pane_current_path}' -w80% -h80% -E lazygit